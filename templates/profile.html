{% extends "base.html" %}

{% block title %}
<title>{{username}} (u/{{username}}) - Qddit</title>
{% endblock %}

{% block style %}
    <style>

.mx-auto {
    margin-left: auto;
    margin-right: auto;
}
.w-960 {
    width: 960px;
}
.w-2\/3 {
    width: 66.66667%;
}
.w-1\/3 {
    width: 33.33333%;
}
.w-1\/12 {
    width: 8.33333%;
}
.w-11\/12 {
    width: 91.66667%;
}
.w-1\/2 {
    width: 4.9%;
}
.w-2\/2 {
    width: 5.1%;
}
.flex {
    display: flex;
}
.flex-col {
    flex-direction: column;
}
.cursor-pointer {
    cursor: pointer;
}
.bg-gray{
    background: #dae0e6;
}
.bg-soft-gray {
    background-color: #f8f9fa;
}
.border-grey-light-alt {
    border-radius: 4px;
    border: 1px solid #ccc;
}
.bg-white {
    background-color: #fff;
}
.text-xs {
    font-size: .75rem;
}
.text-lg {
    font-size: 1.125rem;
}
.font-medium {
    font-weight: 500;
}
.font-semibold {
    font-weight: 600;
}
.items-c {
    align-items: center;
}
.items-t {
    align-items: flex-start;
}
.items-s {
    align-items: flex-stretch;
}

.userlogocirc {
    border: 1px solid black;
    border-radius: 5px;
    overflow: hidden;
    width: 100px;
}
.infodiv {
    display: flex;
}

.postdivmain {
    background-color: #f8f9fa;
    border-radius: 4px;
    border: 1px solid #ccc;
    display: flex;
    cursor: pointer;

}
.postdiv {
    background-color: #fff;
    margin-bottom: 2px;
    padding: 8px;
    cursor: pointer;
    border-radius: 4px;
}

.favcolor{
    background: {{favcolor}} repeat;
}
.pic{
    width: 100px;
    height: 100px;
}
a.ntb{
    color: #878a8c;
    border-radius: 10px;
    padding: 4px;
    box-sizing: border-box;
}
a.ntb:hover{
    background: #ccc;
}
.pic{
    width: 100px;
    height: 100px;
}
.rounded{
    border-radius: 4px;
}
.color-soft-gray {
    color: #878a8c;
}
.size-sm{
    width: 5px;
    height: 5px;
}


    </style>
{% endblock %}

{% block script %}
    <script type="text/javascript">
window.onload = function()
{
window.scrollTo( 0 );
}
    </script>

{% endblock %}

{% block content %}
<div class="container mx-auto">
    <div class="flex w-960 mx-auto">
        <div class="w-2/3">
            <div class="py-1">
                <div class="py-1">
                    <div class="postdiv border-grey-light-alt flex">
                        <a class="ntb" href="/user/{{username}}">
                            <div class="">New</div>
                        </a>

                        <a class="ntb" href="/user/{{username}}/top">
                            <div class="">Top</div>
                        </a>
                    </div>
                </div>
                {% for publication in publications %}
                <div class="py-1">
                    <div class="postdivmain">
                        <div class="w-1/12 flex flex-col items-c">
                            <button class="btn text-xs">
                                <svg class="bi bi-chevron-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/></svg>
                            </button>
                            <span class="text-xs font-semibodl my-1">{{publication.karma}}</span>
                            <button class="text-xs btn">
                                <svg class="bi bi-chevron-down" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>
                            </button>
                        </div>

                        <div class="w-11/12 postdiv">
                            <div class="mt-4">

                            </div>
                            <div  onmousedown="javascript:location.replace('/page/{{ publication.id }}');">
                                <h2 class="text-lg font-medium mb-1">{{ publication.text| safe |truncatechars:"120" }}</h2>
                            </div>
                            <a class="">
                                <svg class="bi color-soft-gray bi-chat-square-fill" width="9px" height="9px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                </svg>
                                    <span class="color-soft-gray" style="font-size: 10px; bottom: 50px;">{{publication.comments_publication.all.count}} Комментарии</span>
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
                <div class="container">
                    <br>
                    <br>
                </div>
            </div>
        </div>

        <div class="w-1/3">
            <div class="py-2">
               <div class="rounded border-grey-light-alt bg-white ml-4 py-2">
                <div style="padding: 12px;">
                    <div class="infodiv">
                        <span class="userlogocirc favcolor items-s"><img class="pic" src="{{avatar}}"></span>
                        <div class="flex-col">
                            <div class="ml-3">{{first_name}}</div>
                            <div class="ml-3">{{last_name}}</div>
                            <div style="font-size: 70%" class="ml-3 mt-2">{{email}}</div>
                            {% if request.user.username == username %}
                            <button onmousedown="javascript:location.replace('/user/{{request.user.username}}/update_profile');" class="btn mt-3 size-sm text-xs">
<!--                                <svg class="bi  bi-chevron-up" transform="translate(-5,-10)" width="10px" height="10px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">-->
<!--                                    <path fill-rule="evenodd" d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"/>-->
<!--                                </svg>-->
                                <svg class="bi bi-gear-fill" transform="translate(-5,-10)" width="10px" height="10px" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 0 0-5.86 2.929 2.929 0 0 0 0 5.858z"/>
                                </svg>
                            </button>
                            {% endif %}
                        </div>

                    </div>
                    <div class="flex">
                        <p style="font-size: 70%" class="mt-1 ml-2">u/{{username}}</p>
                    </div>
                    <div class="flex">
                        <div class="">
                            <div>
                                <div class="flex-col">
                                    <b>Карма:</b>
                                    <p style="font-size: 80%">{{user_karma}}</p>
                                </div>
                            </div>
                        </div>
                        <div style="margin-left: 50px;" >
                            <div class="flex-col">
                                <div>
                                    <b>Дата регистрации:</b>
                                    <p style="font-size: 80%">{{date_joined}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4">
                        <b>О себе:</b>
                        <p>{{bio}}</p>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}